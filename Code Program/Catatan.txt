Keanapa tidak sesuai istrusi saya. Saya ingin kode yang telah anda berikan diatas sebelumnya diperbaiki dengan lengkap dan dengan instruksi saya berikut:
1. Code import library
2. Setup dan Load Dataset dengan code2 seperti ini:
# Path ke folder dataset
dataset_path = "../Dataset_Citra_Pesawat"

# Menyimpan informasi dataset
dataset_info = {}

# Iterasi melalui folder
for label in os.listdir(dataset_path):
    label_path = os.path.join(dataset_path, label)
    if os.path.isdir(label_path):  # Pastikan hanya membaca folder
        file_count = len(os.listdir(label_path))  # Jumlah file dalam folder
        dataset_info[label] = file_count

# Menampilkan informasi dataset
for label, count in dataset_info.items():
    print(f"Label: {label}, Jumlah Citra: {count}")

# Menampilkan beberapa gambar dari setiap kelas
for label in os.listdir(dataset_path):
    label_path = os.path.join(dataset_path, label)
    if os.path.isdir(label_path):
        # Ambil 3 gambar pertama dari setiap kelas
        images = os.listdir(label_path)[:3]
        print(f"Kelas: {label}, Contoh gambar:")
        for img_name in images:
            img_path = os.path.join(label_path, img_name)
            img = cv2.imread(img_path)
            img = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)
            plt.imshow(img)
            plt.title(f"{label} - {img_name}")
            plt.axis('off')
            plt.show()


3. code Data Preprocessing, dengan Langkah yang ingin dilakukan meliputi:
mengubah nama file sesuai nama folder dan diberi nomor urut, data cleaning, data normalization, resize data, encoding label, dan split data, lalu data terbagi menjadi 3, data train, data validation, dan data test.

dari data preprocessing ini karena data terbagi menjadi 3, saya ingin ketiga data tersebut disimpan dalam format file hdf5 semua. 

4. load ketiga file data hdf5 (train, val, dan test) dari Langkah 3 dan tampilkan informasi data pada code. 

5. code data augmentation menggunakan data train. Agar tidak mengulang code ini, simpan hasilnya dalam bentuk format file hdf5.

6. code akses file hdf5 hasil dari langkah 5 untuk digunakan di langkah 7.

7. code Build dan Train 3 Model ResNet(Varian 50, 101, dan 152). bangun data menggunakan data train yang telah di augmentasi di Langkah 5 dan sudah diload di langkah 6, dan latih model menggunakan data val yang sudah di load juga di langkah 4. simpan model dan hasil pelatihannya dalam bentuk format file hdf5 jika sesuai agar tidak mengulangi run.

8. code akses file hdf5 dari langkah 7 untuk digunakan di langkah 9.

9. code Evaluasi Model menggunakan data test yang sudah di load di langkah 4. metrik evaluasi yang digunakan yaitu recall, precision, dan f1-score. dan simpan hasilnya dalam 3 bentuk format file hdf5/csv/txt/json salah satu yang menurut anda sesuai tapi sepertinya yang sesuai format csv atau txt jika hanya menyimpan evaluasi model berupa nilai precision, recall, dan f1-score untuk masing-masing model.

10. code akses file dari langkah 9 untuk digunakan di langkah 11.

11. code pilih model terbaik dari hasil evaluasi tersebut dengan membaca dan memandingkan melihat hasil evaluasi yang sudah ditampilkan di langkah 10.

12. code untuk menampilkan informasi model terbaik dan hasil evaluasinya.

13. code melakukan pengujian klasifikasi citra dengan input data citra baru, dan tampilkan hasilnya, citra termasuk jenis apa. apakah benar atau salah.
